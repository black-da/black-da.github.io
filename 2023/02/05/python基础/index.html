<!DOCTYPE html>

<html lang="en">

<head>
    
    <title>Python杂记 - czw</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <meta name="description" content="类 类中属性查找的顺序：对象&#x3D;&gt;类&#x3D;&gt;父类  闭包函数闭包函数时一种广泛的叫法，存在于所有的编程语言中，只要符合以下2点就是闭包函数：  闭包函数定义在其他函数的内部 闭包函数对外部作用域有引用  123456789101112131415161718装饰器就是闭包函数的一个典型应用：def wrapper(func):    def inner(*args, **">
<meta property="og:type" content="article">
<meta property="og:title" content="Python杂记">
<meta property="og:url" content="http://example.com/2023/02/05/python%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="czw">
<meta property="og:description" content="类 类中属性查找的顺序：对象&#x3D;&gt;类&#x3D;&gt;父类  闭包函数闭包函数时一种广泛的叫法，存在于所有的编程语言中，只要符合以下2点就是闭包函数：  闭包函数定义在其他函数的内部 闭包函数对外部作用域有引用  123456789101112131415161718装饰器就是闭包函数的一个典型应用：def wrapper(func):    def inner(*args, **">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-02-05T06:07:16.750Z">
<meta property="article:modified_time" content="2023-02-05T07:06:46.755Z">
<meta property="article:author" content="czw">
<meta property="article:tag" content="code">
<meta property="article:tag" content="知识分享">
<meta name="twitter:card" content="summary">
    
<link rel="stylesheet" href="/lib/fancybox/fancybox.css">
<link rel="stylesheet" href="/lib/mdui_043tiny/mdui.css">


    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1675583478636">
    
    <link rel="stylesheet" href="/css/style.css?v=1675583478636">

    
        
            <link rel="stylesheet" href="/custom.css?v=1675583478636">
        
    
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="mdui-drawer-body-left">
    <div id="nexmoe-background">
        <div class="nexmoe-bg" style="background-image: url(/pictures/a1.jpg)"></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="czw" class="mdui-btn mdui-btn-icon"><img src="https://avatars.githubusercontent.com/u/88929041?s=400&amp;u=59bb1180edea8ab8a6918f927a2640ae391b8d15&amp;v=4" alt="czw"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="czw">
            <img src="https://avatars.githubusercontent.com/u/88929041?s=400&amp;u=59bb1180edea8ab8a6918f927a2640ae391b8d15&amp;v=4" alt="czw" alt="czw">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>Articles</span>13</div>
        <div><span>Tags</span>6</div>
        <div><span>Categories</span>5</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/archives.html" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/donate.html" title="给我赞助">
            <i class="mdui-list-item-icon nexmoefont icon-coffee"></i>
            <div class="mdui-list-item-content">
                给我赞助
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about.html" title="关于博主">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博主
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
    
        
        
        <div class="nexmoe-widget-wrap">
	<div class="nexmoe-widget nexmoe-social">
		<a
			class="mdui-ripple"
			href="https://github.com/black-da"
			target="_blank"
			mdui-tooltip="{content: 'GitHub'}"
			style="
				color: rgb(25, 23, 23);
				background-color: rgba(25, 23, 23, .1);
			"
		>
			<i
				class="nexmoefont icon-github"
			></i> </a
		><a
			class="mdui-ripple"
			href="/wechat.jpg"
			target="_blank"
			mdui-tooltip="{content: '微信'}"
			style="
				color: rgb(100, 230, 34);
				background-color: rgba(247, 132, 34, .1);
			"
		>
			<i
				class="nexmoefont icon-wechat-fill"
			></i> </a
		>
	</div>
</div>

    
        
        
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Categories</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/code/">code</a>
          <span class="category-list-count">11</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/code/python/">python</a>
          <span class="category-list-count">10</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/test/">test</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/code/windows/">windows</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/教程/">教程</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


    
        
        
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/Games/" style="font-size: 10px;">Games</a> <a href="/tags/code/" style="font-size: 20px;">code</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/system/" style="font-size: 10px;">system</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E5%88%86%E4%BA%AB/" style="font-size: 15px;">知识分享</a>
    </div>
    
      <script>
        var maxTagcloud = parseInt(17);
        var tags_length = parseInt(6);
        var tags_arr = [];
        for(var i = 0; i < tags_length; i++){
          tags_arr.push(i);
        }
        tags_arr.sort(function (l, r) {
          return Math.random() > 0.5 ? -1 : 1;
        });
        tags_arr = tags_arr.slice(0, maxTagcloud < tags_length ? tags_length - maxTagcloud : 0);
        for(var tag_i = 0; tag_i < tags_arr.length; tag_i++){
          document.getElementById("randomtagcloud").children[tags_arr[tag_i]].style.display = 'none';
        }
      </script>
    
  </div>

    
        
        
        
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Archive</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/">2023</a><span class="archive-list-count">13</span></li></ul>
    </div>
  </div>



    
        
        
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Recent Posts</h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/2023/02/05/Django%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%90%AD%E5%BB%BA/">Django项目的搭建</a>
          </li>
        
          <li>
            <a href="/2023/02/05/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%9C%E7%94%A8/">环境变量的配置和作用</a>
          </li>
        
          <li>
            <a href="/2023/02/05/Python%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/">Python内置函数</a>
          </li>
        
          <li>
            <a href="/2023/02/05/Python%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97/">Python常用模块</a>
          </li>
        
          <li>
            <a href="/2023/02/05/%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E5%AF%BC%E5%85%A5/">包和模块的导入</a>
          </li>
        
      </ul>
    </div>
  </div>

    
        
        <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-link">
		<ul>
        
            <li>
                <a href="https://blog.csdn.net/weixin_52709752?type=blog" target="_blank" >
                    <img src="/pictures/CSDN.png" alt="CSDN"></img>
                    <p>CSDN</p>
                </a>
            </li>
        
            <li>
                <a href="https://leetcode.cn/u/happy-svvartzu16/" target="_blank" >
                    <img src="/pictures/leetcode.png" alt="Leetcode"></img>
                    <p>Leetcode</p>
                </a>
            </li>
        
		</ul>
    </div>
</div>
<style>
.nexmoe-widget-wrap .nexmoe-link ul li a {
    text-align : center;
}
.nexmoe-widget-wrap .nexmoe-link ul li a img {
    max-width : 100%;
}
.nexmoe-widget-wrap .nexmoe-link ul li a p {
    margin: 10px 0;
}
</style>

    
</aside>
    <div class="nexmoe-copyright">
        &copy; 2023 czw
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
            <div class="nexmoe-post">

  <article>
    
        <div class="nexmoe-post-cover absolute" style="padding-top: 39.0625%;"> 
            <img src="/pictures/python.png" alt="Python杂记" loading="lazy">
            <h1>Python杂记</h1>
        </div>
    
    
    <div class="nexmoe-post-meta">
    <div class="nexmoe-rainbow">
        <a class="nexmoefont icon-calendar-fill">2023年02月05日</a>
        
            <a class="nexmoefont icon-appstore-fill -link" href="/categories/code/">code</a><a class="nexmoefont icon-appstore-fill -link" href="/categories/code/python/">python</a>
        
        
    </div>
    
    
    
    
    
</div>

    <h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><ul>
<li>类中属性查找的顺序：对象&#x3D;&gt;类&#x3D;&gt;父类</li>
</ul>
<h1 id="闭包函数"><a href="#闭包函数" class="headerlink" title="闭包函数"></a>闭包函数</h1><p>闭包函数时一种广泛的叫法，存在于所有的编程语言中，只要符合以下2点就是闭包函数：</p>
<ul>
<li>闭包函数定义在其他函数的内部</li>
<li>闭包函数对外部作用域有引用</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">装饰器就是闭包函数的一个典型应用：</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># code</span></span><br><span class="line">        res = func(*args, **kwargs)</span><br><span class="line">        <span class="comment"># code</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">a</span>():</span><br><span class="line">    <span class="built_in">print</span>(hello)</span><br><span class="line"></span><br><span class="line">a = wrapper(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把b当作参数传入wrapper，并把返回值赋给b</span></span><br><span class="line"><span class="meta">@wrapper</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">b</span>():</span><br><span class="line">    <span class="built_in">print</span>(hello)</span><br></pre></td></tr></table></figure>



<h1 id="pymysql的使用"><a href="#pymysql的使用" class="headerlink" title="pymysql的使用"></a>pymysql的使用</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#连接数据库</span></span><br><span class="line">conn=pymysql.connect(host=<span class="string">&#x27;101.133.225.166&#x27;</span>, user=<span class="string">&#x27;root&#x27;</span>, password=<span class="string">&quot;123456&quot;</span>,database=<span class="string">&#x27;test&#x27;</span>, port=<span class="number">3306</span>)</span><br><span class="line"><span class="comment"># 获取游标</span></span><br><span class="line">cursor=conn.cursor(cursor=pymysql.cursors.DictCursor) <span class="comment"># 查出来数据是字典格式</span></span><br><span class="line"><span class="comment"># 操作 定义一个sql</span></span><br><span class="line"><span class="comment"># sql=&#x27;select id,name from book&#x27;</span></span><br><span class="line"><span class="comment"># cursor.execute(sql)</span></span><br><span class="line"><span class="comment"># ret=cursor.fetchall()</span></span><br><span class="line"><span class="comment"># print(ret)</span></span><br><span class="line"><span class="comment"># 插入</span></span><br><span class="line"><span class="comment"># sql=&#x27;insert into book(id,name) values (%s,%s)&#x27;</span></span><br><span class="line"><span class="comment"># cursor.execute(sql,[3,&#x27;lqz&#x27;])</span></span><br><span class="line"><span class="comment"># conn.commit()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除</span></span><br><span class="line"><span class="comment"># sql=&#x27;delete from book where name=%s&#x27;</span></span><br><span class="line"><span class="comment"># cursor.execute(sql,[&#x27;lqz&#x27;])</span></span><br><span class="line"><span class="comment"># conn.commit()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新</span></span><br><span class="line"><span class="comment"># sql=&#x27;update book set name=%s where id=%s&#x27;</span></span><br><span class="line"><span class="comment"># cursor.execute(sql,[&#x27;xxx&#x27;,1])</span></span><br><span class="line"><span class="comment"># conn.commit()</span></span><br></pre></td></tr></table></figure>

<h1 id="字典传参"><a href="#字典传参" class="headerlink" title="字典传参"></a>字典传参</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**<span class="built_in">dict</span>传值，可以等同于**kwargs，将字典打散按关键字传值</span><br></pre></td></tr></table></figure>



<h1 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h1><h2 id="lambda表达式"><a href="#lambda表达式" class="headerlink" title="lambda表达式"></a>lambda表达式</h2><p><strong>匿名函数lambda用于临时调用一次的场景：更多的是将匿名函数与其他函数配合使用</strong></p>
<p>lambda 参数: 返回值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">应用场景：</span><br><span class="line">某些函数里需要一些经过简单处理后的数据，那么这个简单处理的过程就可以用<span class="keyword">lambda</span>更为简便地实现。</span><br><span class="line">比如<span class="built_in">max</span>(iterable, *, key=<span class="literal">None</span>)函数中，key实参指定排序函数用的参数。返回可迭代对象中最大的元素</span><br><span class="line">salaries=&#123;</span><br><span class="line">    <span class="string">&#x27;siry&#x27;</span>:<span class="number">3000</span>,</span><br><span class="line">    <span class="string">&#x27;tom&#x27;</span>:<span class="number">7000</span>,</span><br><span class="line">    <span class="string">&#x27;lili&#x27;</span>:<span class="number">10000</span>,</span><br><span class="line">    <span class="string">&#x27;jack&#x27;</span>:<span class="number">2000</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 迭代出的内容    比较的值</span></span><br><span class="line"><span class="comment"># &#x27;siry&#x27;         3000</span></span><br><span class="line"><span class="comment"># &#x27;tom&#x27;          7000</span></span><br><span class="line"><span class="comment"># &#x27;lili&#x27;         10000</span></span><br><span class="line"><span class="comment"># &#x27;jack&#x27;         2000</span></span><br><span class="line">问题就是key默认是迭代出的内容，但我们希望key是salaries[迭代出的内容]，即薪水的资料，这时就可以用<span class="keyword">lambda</span>简单的处理一下</span><br><span class="line"><span class="comment"># def func(k):</span></span><br><span class="line"><span class="comment">#     return salaries[k]</span></span><br><span class="line"><span class="comment"># res=max(salaries,key=func) # 返回值=func(&#x27;siry&#x27;) #这是key需要的就是salaries[迭代的内容]这样处理过的数据。这里func会自动以迭代出的内容作为参数执行，再把返回值赋给key</span></span><br><span class="line"><span class="comment"># res=max(salaries,key=lambda k:salaries[k]) 这时lambda等同于func，但明显func还要单独定义啥的，比较复杂，不如lambda简单。这里的k默认就是迭代出的内容。</span></span><br><span class="line">注意，这里返回的res是满足条件的可迭代对象，而不是最大的比较的值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">还可应用于列表排序：</span><br><span class="line">a = [(<span class="number">1</span>, <span class="number">2</span>), (<span class="number">4</span>, <span class="number">1</span>), (<span class="number">9</span>, <span class="number">10</span>), (<span class="number">13</span>, -<span class="number">3</span>)]</span><br><span class="line">a.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<h2 id="三元表达式"><a href="#三元表达式" class="headerlink" title="三元表达式"></a>三元表达式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expression1 <span class="keyword">if</span> condition <span class="keyword">else</span> expression2</span><br><span class="line">x = <span class="number">1</span> <span class="keyword">if</span> <span class="number">1</span> &gt; <span class="number">3</span> <span class="keyword">else</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="生成式"><a href="#生成式" class="headerlink" title="生成式"></a>生成式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、列表推导式 [i*<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>]]</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、字典生成式</span><br><span class="line"><span class="comment"># items=[(&#x27;name&#x27;,&#x27;egon&#x27;),(&#x27;age&#x27;,18),(&#x27;gender&#x27;,&#x27;male&#x27;)]</span></span><br><span class="line"><span class="comment"># res=&#123;k:v for k,v in items if k != &#x27;gender&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、集合生成式</span><br><span class="line"><span class="comment"># keys=[&#x27;name&#x27;,&#x27;age&#x27;,&#x27;gender&#x27;]</span></span><br><span class="line"><span class="comment"># set1=&#123;key for key in keys&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、生成器表达式</span><br><span class="line"><span class="comment"># g=(i for i in range(10) if i &gt; 3)</span></span><br></pre></td></tr></table></figure>





<h1 id="yield解析"><a href="#yield解析" class="headerlink" title="yield解析"></a>yield解析</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">yield函数解析：yield出现在函数中会使函数的调用结果变为一个生成器.</span></span><br><span class="line"><span class="string">这样的函数可以暂时挂起，保存运行状态.相当于在yield那一句弄了个断点</span></span><br><span class="line"><span class="string">在函数中，yield的作用有俩：</span></span><br><span class="line"><span class="string">    1.赋值功能：外界send(arg),把当前的yield赋值为arg，接着继续运行函数</span></span><br><span class="line"><span class="string">    2.返回结果功能：函数运行到新的yield时返回此时yield后的值</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;before&#x27;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        x = <span class="keyword">yield</span></span><br><span class="line">        <span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x27;赋值功能演示&#x27;</span></span><br><span class="line"><span class="comment"># g1 = test()#因为yield函数的调用结果变为一个生成器</span></span><br><span class="line"><span class="comment"># next(g1)#等同于g1.send(none),初始化生成器，使生成器停止在x=yield那一步（这一步还没运行完成，只会先返回yield后的值，相当于是一个初始状态了）</span></span><br><span class="line"><span class="comment"># g1.send(&#x27;hahaha&#x27;)#函数接着上一步运行x=yield,send的功能是把参数传给yield。然后函数本身又执行x=yield的赋值操作，所以最后</span></span><br><span class="line"><span class="comment">#                 #对x的打印结果就是传进去的参数。接着函数运行到新的x=yield(这一句还没运行)时因遇到新的yield而暂时挂起。等待下一次对这个生成器的调用</span></span><br><span class="line"><span class="comment"># g1.send(&#x27;xixixi&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;返回值功能演示&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test2</span>():</span><br><span class="line">    food_list = []</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        food = <span class="keyword">yield</span> food_list</span><br><span class="line">        food_list.append(food)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;此次传参：<span class="subst">&#123;food&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">g2 = test2()</span><br><span class="line">g2.send(<span class="literal">None</span>)<span class="comment">#初始化生成器,停在food = yield food_list(这一步还没运行完成，只会先返回yield后的值，即返回[],相当于是一个初始状态了)</span></span><br><span class="line"><span class="built_in">print</span>(g2.send(<span class="string">&#x27;apple&#x27;</span>))<span class="comment">#首先传值，再继续运行函数，直到遇到新的yield，返回yield后面跟着的food_list。</span></span><br><span class="line">                    <span class="comment">#之后函数再继续挂起，下一次运行时，函数的状态就是现在的状态。。</span></span><br><span class="line">                    <span class="comment"># 注意：顺序是传值-运行函数-返回结果，遇到yield就挂起函数</span></span><br><span class="line"><span class="built_in">print</span>(g2.send(<span class="string">&#x27;banana&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(g2.send([<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>]))</span><br></pre></td></tr></table></figure>

<h1 id="反射机制"><a href="#反射机制" class="headerlink" title="反射机制"></a>反射机制</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本质就是通过字符串操作对象.出来的属性</span></span><br><span class="line"><span class="comment"># 实现反射机制的步骤</span></span><br><span class="line"><span class="comment"># 1、先通过dir：查看出某一个对象下可以.出哪些属性来</span></span><br><span class="line"><span class="comment"># print(dir(obj))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、可以通过字符串反射到真正的属性上，得到属性值</span></span><br><span class="line"><span class="comment"># print(obj.__dict__[dir(obj)[-2]]) 对象的属性值都存在__dict__这个字典里</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 四个内置函数的使用:通过字符串来操作属性值</span></span><br><span class="line"><span class="comment"># 1、hasattr()</span></span><br><span class="line"><span class="comment"># print(hasattr(obj,&#x27;name&#x27;))</span></span><br><span class="line"><span class="comment"># print(hasattr(obj,&#x27;x&#x27;))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、getattr()</span></span><br><span class="line"><span class="comment"># print(getattr(obj,&#x27;name&#x27;))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、setattr()</span></span><br><span class="line"><span class="comment"># setattr(obj,&#x27;name&#x27;,&#x27;EGON&#x27;) # obj.name=&#x27;EGON&#x27;</span></span><br><span class="line"><span class="comment"># print(obj.name)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、delattr()</span></span><br><span class="line"><span class="comment"># delattr(obj,&#x27;name&#x27;) # del obj.name</span></span><br><span class="line"><span class="comment"># print(obj.__dict__)</span></span><br></pre></td></tr></table></figure>






    <p><img data-fancybox="gallery" src="/pictures/a2.png"  alt="/pictures/a2.png" data-caption="/pictures/a2.png" loading="lazy"></p>
  </article>

  
      
    <div class="nexmoe-post-copyright">
        <strong>Author：</strong>czw<br>
        <strong>Link：</strong><a href="http://example.com/2023/02/05/python%E5%9F%BA%E7%A1%80/" title="http:&#x2F;&#x2F;example.com&#x2F;2023&#x2F;02&#x2F;05&#x2F;python%E5%9F%BA%E7%A1%80&#x2F;" target="_blank" rel="noopener">http:&#x2F;&#x2F;example.com&#x2F;2023&#x2F;02&#x2F;05&#x2F;python%E5%9F%BA%E7%A1%80&#x2F;</a><br>
        
            <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
        
    </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
   
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/code/" rel="tag">code</a> <a class="nexmoefont icon-tag-fill -none-link" href="/tags/%E7%9F%A5%E8%AF%86%E5%88%86%E4%BA%AB/" rel="tag">知识分享</a>
    
</div>

  
      <div class="nexmoe-post-footer">
          
      </div>
  
</div>
            <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                        
                          
                          
                              <button class="mdui-fab catalog" style="overflow:unset;">
                                  <i class="nexmoefont icon-i-catalog"></i>
                                  <div class="nexmoe-toc">
                                      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">1.</span> <span class="toc-text">类</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E5%87%BD%E6%95%B0"><span class="toc-number">2.</span> <span class="toc-text">闭包函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pymysql%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">pymysql的使用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E4%BC%A0%E5%8F%82"><span class="toc-number">4.</span> <span class="toc-text">字典传参</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">5.</span> <span class="toc-text">小技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">5.1.</span> <span class="toc-text">lambda表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%85%83%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">5.2.</span> <span class="toc-text">三元表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%BC%8F"><span class="toc-number">5.3.</span> <span class="toc-text">生成式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#yield%E8%A7%A3%E6%9E%90"><span class="toc-number">6.</span> <span class="toc-text">yield解析</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6"><span class="toc-number">7.</span> <span class="toc-text">反射机制</span></a></li></ol>
                                  </div>
                              </button>
                          
                          
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="Back To Top" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
        </div>
    </div>
    <div id="nexmoe-search-space">
	<div class="search-container">
		<div class="search-header">
			<div class="search-input-container">
				<input
					class="search-input"
					type="text"
					placeholder="Search"
					oninput="sinput();"
				/>
			</div>
			<a class="search-close" onclick="sclose();">×</a>
		</div>
		<div class="search-body"></div>
	</div>
</div>

    
<script src="/lib/mdui_043tiny/mdui.js"></script>
<script src="/lib/fancybox/fancybox.umd.js"></script>


 

<script async src="/js/app.js?v=1675583478638"></script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2058306854838448" crossorigin="anonymous"></script>

</body>

</html>
